warning: in the working copy of 'docker-compose.prod.yml', LF will be replaced by CRLF the next time Git touches it
warning: in the working copy of 'nginx/default.conf', LF will be replaced by CRLF the next time Git touches it
warning: in the working copy of 'package.json', LF will be replaced by CRLF the next time Git touches it
warning: in the working copy of 'pnpm-lock.yaml', LF will be replaced by CRLF the next time Git touches it
[1mdiff --git a/docker-compose.prod.yml b/docker-compose.prod.yml[m
[1mindex 1acba23..9457965 100644[m
[1m--- a/docker-compose.prod.yml[m
[1m+++ b/docker-compose.prod.yml[m
[36m@@ -87,6 +87,19 @@[m [mservices:[m
       - 80[m
     environment:[m
       - NODE_ENV=${NODE_ENV:-production}[m
[32m+[m[32m    depends_on:[m
[32m+[m[32m      - backend[m
[32m+[m[32m    restart: always[m
[32m+[m
[32m+[m[32m  game-maker:[m
[32m+[m[32m    image: registry.cn-heyuan.aliyuncs.com/llm-good/game-maker:${VERSION}[m
[32m+[m[32m    expose:[m
[32m+[m[32m      - 80[m
[32m+[m[32m    environment:[m
[32m+[m[32m      - VITE_API_URL=/api[m
[32m+[m[32m      - NODE_ENV=${NODE_ENV:-production}[m
[32m+[m[32m    depends_on:[m
[32m+[m[32m      - backend[m
     restart: always[m
 [m
 volumes:[m
[1mdiff --git a/docker-compose.yml b/docker-compose.yml[m
[1mindex 748bcc1..63dcc56 100644[m
[1m--- a/docker-compose.yml[m
[1m+++ b/docker-compose.yml[m
[36m@@ -98,6 +98,24 @@[m [mservices:[m
       - 80[m
     environment:[m
       - NODE_ENV=${NODE_ENV}[m
[32m+[m[32m    depends_on:[m
[32m+[m[32m      - backend[m
[32m+[m[32m    restart: always[m
[32m+[m
[32m+[m[32m  game-maker:[m
[32m+[m[32m    build:[m
[32m+[m[32m      context: .[m
[32m+[m[32m      dockerfile: apps/game-maker/Dockerfile[m
[32m+[m[32m      args:[m
[32m+[m[32m        - VERSION=${VERSION}[m
[32m+[m[32m    image: llm-good-game-maker:${VERSION:-latest}[m
[32m+[m[32m    expose:[m
[32m+[m[32m      - 80[m
[32m+[m[32m    environment:[m
[32m+[m[32m      - VITE_API_URL=/api[m
[32m+[m[32m      - NODE_ENV=${NODE_ENV}[m
[32m+[m[32m    depends_on:[m
[32m+[m[32m      - backend[m
     restart: always[m
 [m
 volumes:[m
[1mdiff --git a/nginx/default.conf b/nginx/default.conf[m
[1mindex 153fbef..6822736 100644[m
[1m--- a/nginx/default.conf[m
[1m+++ b/nginx/default.conf[m
[36m@@ -35,6 +35,14 @@[m [mserver {[m
         proxy_set_header X-Forwarded-Proto $scheme;[m
     }[m
 [m
[32m+[m[32m    location /game-maker/ {[m
[32m+[m[32m        proxy_pass http://game-maker/;[m
[32m+[m[32m        proxy_set_header Host $host;[m
[32m+[m[32m        proxy_set_header X-Real-IP $remote_addr;[m
[32m+[m[32m        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;[m
[32m+[m[32m        proxy_set_header X-Forwarded-Proto $scheme;[m
[32m+[m[32m    }[m
[32m+[m
     location /game-hub/ {[m
         proxy_pass http://game-hub/;[m
         proxy_set_header Host $host;[m
[1mdiff --git a/nginx/prod.conf b/nginx/prod.conf[m
[1mindex f691d27..eba7e70 100644[m
[1m--- a/nginx/prod.conf[m
[1m+++ b/nginx/prod.conf[m
[36m@@ -14,6 +14,10 @@[m [mupstream backend {[m
     server backend:3000;[m
 }[m
 [m
[32m+[m[32mupstream game-maker {[m
[32m+[m[32m    server game-maker:80;[m
[32m+[m[32m}[m
[32m+[m
 # HTTP ÊúçÂä°Âô® - ÈáçÂÆöÂêëÂà∞ HTTPS[m
 server {[m
     listen 80;[m
[36m@@ -71,6 +75,14 @@[m [mserver {[m
         proxy_set_header X-Forwarded-Proto $scheme;[m
     }[m
 [m
[32m+[m[32m    location /game-maker/ {[m
[32m+[m[32m        proxy_pass http://game-maker/;[m
[32m+[m[32m        proxy_set_header Host $host;[m
[32m+[m[32m        proxy_set_header X-Real-IP $remote_addr;[m
[32m+[m[32m        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;[m
[32m+[m[32m        proxy_set_header X-Forwarded-Proto $scheme;[m
[32m+[m[32m    }[m
[32m+[m
     location /game-hub/ {[m
         proxy_pass http://game-hub/;[m
         proxy_set_header Host $host;[m
[1mdiff --git a/package.json b/package.json[m
[1mindex 5dd54e2..d19d7df 100644[m
[1m--- a/package.json[m
[1m+++ b/package.json[m
[36m@@ -18,9 +18,10 @@[m
     "docker:push:frontend": "cross-env VERSION=%npm_package_version% docker tag llm-good-frontend:%npm_package_version% registry.cn-heyuan.aliyuncs.com/llm-good/frontend:%npm_package_version% && docker push registry.cn-heyuan.aliyuncs.com/llm-good/frontend:%npm_package_version%",[m
     "docker:push:backend": "cross-env VERSION=%npm_package_version% docker tag llm-good-backend:%npm_package_version% registry.cn-heyuan.aliyuncs.com/llm-good/backend:%npm_package_version% && docker push registry.cn-heyuan.aliyuncs.com/llm-good/backend:%npm_package_version%",[m
     "docker:push:game-hub": "cross-env VERSION=%npm_package_version% docker tag llm-good-game-hub:%npm_package_version% registry.cn-heyuan.aliyuncs.com/llm-good/game-hub:%npm_package_version% && docker push registry.cn-heyuan.aliyuncs.com/llm-good/game-hub:%npm_package_version%",[m
[32m+[m[32m    "docker:push:game-maker": "cross-env VERSION=%npm_package_version% docker tag llm-good-game-maker:%npm_package_version% registry.cn-heyuan.aliyuncs.com/llm-good/game-maker:%npm_package_version% && docker push registry.cn-heyuan.aliyuncs.com/llm-good/game-maker:%npm_package_version%",[m
     "docker:push:nginx": "cross-env VERSION=%npm_package_version% docker tag llm-good-nginx:%npm_package_version% registry.cn-heyuan.aliyuncs.com/llm-good/nginx:%npm_package_version% && docker push registry.cn-heyuan.aliyuncs.com/llm-good/nginx:%npm_package_version%",[m
     "docker:push:db": "cross-env VERSION=%npm_package_version% docker tag llm-good-db:%npm_package_version% registry.cn-heyuan.aliyuncs.com/llm-good/db:%npm_package_version% && docker push registry.cn-heyuan.aliyuncs.com/llm-good/db:%npm_package_version%",[m
[31m-    "docker:push": "pnpm docker:push:nginx && pnpm docker:push:db && pnpm docker:push:website && pnpm docker:push:frontend && pnpm docker:push:backend && pnpm docker:push:game-hub",[m
[32m+[m[32m    "docker:push": "pnpm docker:push:nginx && pnpm docker:push:db && pnpm docker:push:website && pnpm docker:push:frontend && pnpm docker:push:backend && pnpm docker:push:game-hub && pnpm docker:push:game-maker",[m
     "docker:deploy": "pnpm docker:build && pnpm docker:push"[m
   },[m
   "devDependencies": {[m
[1mdiff --git a/pnpm-lock.yaml b/pnpm-lock.yaml[m
[1mindex d286d68..7dfcd92 100644[m
[1m--- a/pnpm-lock.yaml[m
[1m+++ b/pnpm-lock.yaml[m
[36m@@ -297,6 +297,118 @@[m [mimporters:[m
         specifier: ^2.1.8[m
         version: 2.1.8(@types/node@20.17.10)(@vitest/ui@2.1.8)(jsdom@25.0.1)[m
 [m
[32m+[m[32m  apps/game-maker:[m
[32m+[m[32m    dependencies:[m
[32m+[m[32m      '@reduxjs/toolkit':[m
[32m+[m[32m        specifier: ^2.5.0[m
[32m+[m[32m        version: 2.5.0(react-redux@9.2.0(@types/react@18.3.18)(react@18.3.1)(redux@5.0.1))(react@18.3.1)[m
[32m+[m[32m      '@types/react-router-dom':[m
[32m+[m[32m        specifier: ^5.3.3[m
[32m+[m[32m        version: 5.3.3[m
[32m+[m[32m      phaser:[m
[32m+[m[32m        specifier: ^3.87.0[m
[32m+[m[32m        version: 3.87.0[m
[32m+[m[32m      react:[m
[32m+[m[32m        specifier: ^18.3.1[m
[32m+[m[32m        version: 18.3.1[m
[32m+[m[32m      react-dom:[m
[32m+[m[32m        specifier: ^18.3.1[m
[32m+[m[32m        version: 18.3.1(react@18.3.1)[m
[32m+[m[32m      react-redux:[m
[32m+[m[32m        specifier: ^9.2.0[m
[32m+[m[32m        version: 9.2.0(@types/react@18.3.18)(react@18.3.1)(redux@5.0.1)[m
[32m+[m[32m      react-router-dom:[m
[32m+[m[32m        specifier: ^7.1.0[m
[32m+[m[32m        version: 7.1.0(react-dom@18.3.1(react@18.3.1))(react@18.3.1)[m
[32m+[m[32m    devDependencies:[m
[32m+[m[32m      '@chromatic-com/storybook':[m
[32m+[m[32m        specifier: 3.2.3[m
[32m+[m[32m        version: 3.2.3(react@18.3.1)(storybook@8.4.7)[m
[32m+[m[32m      '@eslint/js':[m
[32m+[m[32m        specifier: ^9.17.0[m
[32m+[m[32m        version: 9.17.0[m
[32m+[m[32m      '@storybook/addon-essentials':[m
[32m+[m[32m        specifier: 8.4.7[m
[32m+[m[32m        version: 8.4.7(@types/react@18.3.18)(storybook@8.4.7)[m
[32m+[m[32m      '@storybook/addon-interactions':[m
[32m+[m[32m        specifier: 8.4.7[m
[32m+[m[32m        version: 8.4.7(storybook@8.4.7)[m
[32m+[m[32m      '@storybook/addon-onboarding':[m
[32m+[m[32m        specifier: 8.4.7[m
[32m+[m[32m        version: 8.4.7(react@18.3.1)(storybook@8.4.7)[m
[32m+[m[32m      '@storybook/blocks':[m
[32m+[m[32m        specifier: 8.4.7[m
[32m+[m[32m        version: 8.4.7(react-dom@18.3.1(react@18.3.1))(react@18.3.1)(storybook@8.4.7)[m
[32m+[m[32m      '@storybook/react':[m
[32m+[m[32m        specifier: 8.4.7[m
[32m+[m[32m        version: 8.4.7(@storybook/test@8.4.7(storybook@8.4.7))(react-dom@18.3.1(react@18.3.1))(react@18.3.1)(storybook@8.4.7)(typescript@5.6.3)[m
[32m+[m[32m      '@storybook/react-vite':[m
[32m+[m[32m        specifier: 8.4.7[m
[32m+[m[32m        version: 8.4.7(@storybook/test@8.4.7(storybook@8.4.7))(react-dom@18.3.1(react@18.3.1))(react@18.3.1)(rollup@4.29.1)(storybook@8.4.7)(typescript@5.6.3)(vite@6.0.5(@types/node@20.17.10)(jiti@1.21.7)(yaml@2.6.1))[m
[32m+[m[32m      '@storybook/test':[m
[32m+[m[32m        specifier: 8.4.7[m
[32m+[m[32m        version: 8.4.7(storybook@8.4.7)[m
[32m+[m[32m      '@testing-library/jest-dom':[m
[32m+[m[32m        specifier: ^6.6.3[m
[32m+[m[32m        version: 6.6.3[m
[32m+[m[32m      '@testing-library/react':[m
[32m+[m[32m        specifier: ^16.1.0[m
[32m+[m[32m        version: 16.1.0(@testing-library/dom@10.4.0)(@types/react-dom@18.3.5(@types/react@18.3.18))(@types/react@18.3.18)(react-dom@18.3.1(react@18.3.1))(react@18.3.1)[m
[32m+[m[32m      '@types/react':[m
[32m+[m[32m        specifier: ^18.3.17[m
[32m+[m[32m        version: 18.3.18[m
[32m+[m[32m      '@types/react-dom':[m
[32m+[m[32m        specifier: ^18.3.5[m
[32m+[m[32m        version: 18.3.5(@types/react@18.3.18)[m
[32m+[m[32m      '@vitejs/plugin-react':[m
[32m+[m[32m        specifier: ^4.3.4[m
[32m+[m[32m        version: 4.3.4(vite@6.0.5(@types/node@20.17.10)(jiti@1.21.7)(yaml@2.6.1))[m
[32m+[m[32m      '@vitest/ui':[m
[32m+[m[32m        specifier: ^2.1.8[m
[32m+[m[32m        version: 2.1.8(vitest@2.1.8)[m
[32m+[m[32m      autoprefixer:[m
[32m+[m[32m        specifier: ^10.4.20[m
[32m+[m[32m        version: 10.4.20(postcss@8.4.49)[m
[32m+[m[32m      eslint:[m
[32m+[m[32m        specifier: ^9.17.0[m
[32m+[m[32m        version: 9.17.0(jiti@1.21.7)[m
[32m+[m[32m      eslint-plugin-react-hooks:[m
[32m+[m[32m        specifier: ^5.0.0[m
[32m+[m[32m        version: 5.1.0(eslint@9.17.0(jiti@1.21.7))[m
[32m+[m[32m      eslint-plugin-react-refresh:[m
[32m+[m[32m        specifier: ^0.4.16[m
[32m+[m[32m        version: 0.4.16(eslint@9.17.0(jiti@1.21.7))[m
[32m+[m[32m      eslint-plugin-storybook:[m
[32m+[m[32m        specifier: ^0.11.1[m
[32m+[m[32m        version: 0.11.1(eslint@9.17.0(jiti@1.21.7))(typescript@5.6.3)[m
[32m+[m[32m      globals:[m
[32m+[m[32m        specifier: ^15.13.0[m
[32m+[m[32m        version: 15.14.0[m
[32m+[m[32m      jsdom:[m
[32m+[m[32m        specifier: ^25.0.1[m
[32m+[m[32m        version: 25.0.1[m
[32m+[m[32m      postcss:[m
[32m+[m[32m        specifier: ^8.4.49[m
[32m+[m[32m        version: 8.4.49[m
[32m+[m[32m      storybook:[m
[32m+[m[32m        specifier: 8.4.7[m
[32m+[m[32m        version: 8.4.7[m
[32m+[m[32m      tailwindcss:[m
[32m+[m[32m        specifier: ^3.4.17[m
[32m+[m[32m        version: 3.4.17(ts-node@10.9.2(@types/node@20.17.10)(typescript@5.6.3))[m
[32m+[m[32m      typescript:[m
[32m+[m[32m        specifier: ~5.6.2[m
[32m+[m[32m        version: 5.6.3[m
[32m+[m[32m      typescript-eslint:[m
[32m+[m[32m        specifier: ^8.18.1[m
[32m+[m[32m        version: 8.18.1(eslint@9.17.0(jiti@1.21.7))(typescript@5.6.3)[m
[32m+[m[32m      vite:[m
[32m+[m[32m        specifier: ^6.0.3[m
[32m+[m[32m        version: 6.0.5(@types/node@20.17.10)(jiti@1.21.7)(yaml@2.6.1)[m
[32m+[m[32m      vitest:[m
[32m+[m[32m        specifier: ^2.1.8[m
[32m+[m[32m        version: 2.1.8(@types/node@20.17.10)(@vitest/ui@2.1.8)(jsdom@25.0.1)[m
[32m+[m
   apps/website:[m
     devDependencies:[m
       vitepress:[m
